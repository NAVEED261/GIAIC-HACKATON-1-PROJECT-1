"use strict";(globalThis.webpackChunkphysical_ai_textbook=globalThis.webpackChunkphysical_ai_textbook||[]).push([[423],{4023:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>l,contentTitle:()=>c,default:()=>u,frontMatter:()=>o,metadata:()=>r,toc:()=>a});const r=JSON.parse('{"id":"module-1-ros2/services","title":"Services","description":"Implement synchronous request-response communication using ROS 2 services for configuration and command execution","source":"@site/docs/module-1-ros2/services.md","sourceDirName":"module-1-ros2","slug":"/module-1-ros2/services","permalink":"/GIAIC-HACKATON-1-PROJECT-1/docs/module-1-ros2/services","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/module-1-ros2/services.md","tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"title":"Services","description":"Implement synchronous request-response communication using ROS 2 services for configuration and command execution","sidebar_label":"Services","sidebar_position":4,"estimated_time":6,"week":4,"module":1,"prerequisites":["module-1-ros2/nodes-topics"],"learning_objectives":["Understand when to use services vs topics in ROS 2 systems","Create service servers to handle synchronous requests","Implement service clients to make requests and wait for responses","Define custom service types for application-specific operations"],"difficulty_level":"intermediate","capstone_component":"communication-layer"},"sidebar":"tutorialSidebar","previous":{"title":"Nodes & Topics","permalink":"/GIAIC-HACKATON-1-PROJECT-1/docs/module-1-ros2/nodes-topics"},"next":{"title":"Actions","permalink":"/GIAIC-HACKATON-1-PROJECT-1/docs/module-1-ros2/actions"}}');var i=n(4848),t=n(8453);const o={title:"Services",description:"Implement synchronous request-response communication using ROS 2 services for configuration and command execution",sidebar_label:"Services",sidebar_position:4,estimated_time:6,week:4,module:1,prerequisites:["module-1-ros2/nodes-topics"],learning_objectives:["Understand when to use services vs topics in ROS 2 systems","Create service servers to handle synchronous requests","Implement service clients to make requests and wait for responses","Define custom service types for application-specific operations"],difficulty_level:"intermediate",capstone_component:"communication-layer"},c="Services: Request-Response Communication",l={},a=[{value:"Overview",id:"overview",level:2},{value:"Learning Objectives",id:"learning-objectives",level:2},{value:"Chapter Contents",id:"chapter-contents",level:2},{value:"1. Services vs Topics",id:"1-services-vs-topics",level:3},{value:"2. Service Architecture",id:"2-service-architecture",level:3},{value:"3. Creating Service Servers",id:"3-creating-service-servers",level:3},{value:"4. Creating Service Clients",id:"4-creating-service-clients",level:3},{value:"5. Standard Service Types",id:"5-standard-service-types",level:3},{value:"6. Custom Services",id:"6-custom-services",level:3},{value:"Hands-On Labs",id:"hands-on-labs",level:2},{value:"Code Examples",id:"code-examples",level:2},{value:"Python Service Server Example",id:"python-service-server-example",level:3},{value:"Python Service Client Example",id:"python-service-client-example",level:3},{value:"Use Cases in Robotics",id:"use-cases-in-robotics",level:2},{value:"Assessment",id:"assessment",level:2},{value:"Troubleshooting",id:"troubleshooting",level:2},{value:"Resources",id:"resources",level:2}];function d(e){const s={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.header,{children:(0,i.jsx)(s.h1,{id:"services-request-response-communication",children:"Services: Request-Response Communication"})}),"\n",(0,i.jsx)(s.h2,{id:"overview",children:"Overview"}),"\n",(0,i.jsx)(s.p,{children:"While topics enable asynchronous streaming data, services provide synchronous request-response communication for operations that require immediate feedback. In this chapter, you'll learn to implement services for robot configuration, command execution, and state queries."}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"Duration:"})," 6 hours\r\n",(0,i.jsx)(s.strong,{children:"Week:"})," 4\r\n",(0,i.jsx)(s.strong,{children:"Prerequisites:"})," Understanding of nodes and topics"]}),"\n",(0,i.jsx)(s.h2,{id:"learning-objectives",children:"Learning Objectives"}),"\n",(0,i.jsx)(s.p,{children:"By the end of this chapter, you will be able to:"}),"\n",(0,i.jsxs)(s.ol,{children:["\n",(0,i.jsx)(s.li,{children:"Explain the difference between services and topics, and choose appropriately"}),"\n",(0,i.jsx)(s.li,{children:"Create service servers that process requests and return responses"}),"\n",(0,i.jsx)(s.li,{children:"Implement service clients that make blocking or asynchronous calls"}),"\n",(0,i.jsx)(s.li,{children:"Define custom service (.srv) files for specific operations"}),"\n",(0,i.jsx)(s.li,{children:"Handle service failures and timeouts gracefully"}),"\n",(0,i.jsx)(s.li,{children:"Use ros2 service command-line tools for debugging"}),"\n"]}),"\n",(0,i.jsx)(s.h2,{id:"chapter-contents",children:"Chapter Contents"}),"\n",(0,i.jsx)(s.h3,{id:"1-services-vs-topics",children:"1. Services vs Topics"}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.em,{children:"Content to be added: When to use each communication pattern, comparison table, use case examples."})}),"\n",(0,i.jsx)(s.h3,{id:"2-service-architecture",children:"2. Service Architecture"}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.em,{children:"Content to be added: Client-server model, synchronous blocking, request-response flow."})}),"\n",(0,i.jsx)(s.h3,{id:"3-creating-service-servers",children:"3. Creating Service Servers"}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.em,{children:"Content to be added: Python and C++ server implementations, callback functions, error handling."})}),"\n",(0,i.jsx)(s.h3,{id:"4-creating-service-clients",children:"4. Creating Service Clients"}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.em,{children:"Content to be added: Synchronous vs asynchronous clients, waiting for services, timeout handling."})}),"\n",(0,i.jsx)(s.h3,{id:"5-standard-service-types",children:"5. Standard Service Types"}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.em,{children:"Content to be added: Overview of std_srvs, example_interfaces, common patterns."})}),"\n",(0,i.jsx)(s.h3,{id:"6-custom-services",children:"6. Custom Services"}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.em,{children:"Content to be added: Defining .srv files, request and response message structure, building custom services."})}),"\n",(0,i.jsx)(s.h2,{id:"hands-on-labs",children:"Hands-On Labs"}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.strong,{children:"Lab 4.1: Configuration Service"})}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.em,{children:"Lab instructions to be added: Create a service that accepts robot configuration parameters and validates them."})}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.strong,{children:"Lab 4.2: Sensor Calibration Service"})}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.em,{children:"Lab instructions to be added: Implement a service for on-demand sensor calibration."})}),"\n",(0,i.jsx)(s.h2,{id:"code-examples",children:"Code Examples"}),"\n",(0,i.jsx)(s.h3,{id:"python-service-server-example",children:"Python Service Server Example"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-python",children:"# Dependencies: rclpy>=3.3.0\r\nfrom example_interfaces.srv import AddTwoInts\r\nimport rclpy\r\nfrom rclpy.node import Node\r\n\r\nclass MinimalService(Node):\r\n    def __init__(self):\r\n        super().__init__('minimal_service')\r\n        self.srv = self.create_service(AddTwoInts, 'add_two_ints', self.add_two_ints_callback)\r\n\r\n    def add_two_ints_callback(self, request, response):\r\n        response.sum = request.a + request.b\r\n        self.get_logger().info(f'Incoming request: {request.a} + {request.b}')\r\n        return response\r\n\r\ndef main(args=None):\r\n    rclpy.init(args=args)\r\n    node = MinimalService()\r\n    rclpy.spin(node)\r\n    rclpy.shutdown()\n"})}),"\n",(0,i.jsx)(s.h3,{id:"python-service-client-example",children:"Python Service Client Example"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-python",children:"# Dependencies: rclpy>=3.3.0\r\nfrom example_interfaces.srv import AddTwoInts\r\nimport rclpy\r\nfrom rclpy.node import Node\r\n\r\nclass MinimalClientAsync(Node):\r\n    def __init__(self):\r\n        super().__init__('minimal_client_async')\r\n        self.client = self.create_client(AddTwoInts, 'add_two_ints')\r\n        while not self.client.wait_for_service(timeout_sec=1.0):\r\n            self.get_logger().info('Service not available, waiting...')\r\n        self.request = AddTwoInts.Request()\r\n\r\n    def send_request(self, a, b):\r\n        self.request.a = a\r\n        self.request.b = b\r\n        self.future = self.client.call_async(self.request)\r\n        return self.future\n"})}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.em,{children:"Additional code examples to be added."})}),"\n",(0,i.jsx)(s.h2,{id:"use-cases-in-robotics",children:"Use Cases in Robotics"}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.em,{children:"Content to be added: Common service patterns - mode switching, calibration, trajectory planning, state queries."})}),"\n",(0,i.jsx)(s.h2,{id:"assessment",children:"Assessment"}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"Practical Project:"})," Build a robot arm control system with:"]}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"Service for setting joint positions"}),"\n",(0,i.jsx)(s.li,{children:"Service for querying current joint states"}),"\n",(0,i.jsx)(s.li,{children:"Service for executing pre-defined trajectories"}),"\n",(0,i.jsx)(s.li,{children:"Proper error handling and validation"}),"\n"]}),"\n",(0,i.jsx)(s.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.em,{children:"Common service-related issues and solutions to be added."})}),"\n",(0,i.jsx)(s.h2,{id:"resources",children:"Resources"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:(0,i.jsx)(s.a,{href:"https://docs.ros.org/en/humble/Tutorials/Beginner-Client-Libraries/Writing-A-Simple-Py-Service-And-Client.html",children:"ROS 2 Services Tutorial"})}),"\n",(0,i.jsx)(s.li,{children:(0,i.jsx)(s.a,{href:"https://docs.ros.org/en/humble/Tutorials/Beginner-Client-Libraries/Custom-ROS2-Interfaces.html",children:"Creating Custom Service Types"})}),"\n"]}),"\n",(0,i.jsx)(s.hr,{}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"Next Chapter:"})," ",(0,i.jsx)(s.a,{href:"/docs/module-1-ros2/actions",children:"Actions"})," - Learn about long-running tasks with feedback"]})]})}function u(e={}){const{wrapper:s}={...(0,t.R)(),...e.components};return s?(0,i.jsx)(s,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},8453:(e,s,n)=>{n.d(s,{R:()=>o,x:()=>c});var r=n(6540);const i={},t=r.createContext(i);function o(e){const s=r.useContext(t);return r.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function c(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),r.createElement(t.Provider,{value:s},e.children)}}}]);